{% load static %}
<!-- Navbar -->
<nav class="bg-blue-800 shadow-lg sticky top-0 z-50">
  <div class="mx-auto px-6 py-4 flex justify-between items-center">

    <!-- Logo -->
    <a href="{% url 'home' %}" class="text-2xl md:text-3xl font-bold text-white tracking-wide">
      ðŸŽ‰ Event Management
    </a>

    <!-- Mobile menu button -->
    <button id="admin-mobile-toggle" class="md:hidden text-white text-3xl focus:outline-none">
      â˜°
    </button>

    <!-- Menu container -->
    <div id="admin-mobile-menu"
         class="hidden md:flex md:items-center w-full md:w-auto mt-4 md:mt-0">

      <!-- Center links -->
      <div class="flex flex-col md:flex-row md:space-x-6 items-center text-center md:text-left mb-4 md:mb-0">

        <a href="{% url 'event_page' %}"
           class="text-white hover:text-yellow-300 {% if request.path == '/event/events/' %}font-semibold underline{% endif %}">
          Events
        </a>

        <a href="{% url 'participant_page' %}"
           class="text-white hover:text-yellow-300 {% if request.path == '/event/participants/' %}font-semibold underline{% endif %}">
          Participants
        </a>

        <a href="{% url 'category_page' %}"
           class="text-white hover:text-yellow-300 {% if request.path == '/event/categories/' %}font-semibold underline{% endif %}">
          Categories
        </a>

        <a href="{% url 'create-group' %}"
           class="text-white hover:text-yellow-300 {% if request.path == '/users/create_group/' %}font-semibold underline{% endif %}">
          Create Group
        </a>

        <a href="{% url 'group-list' %}"
           class="text-white hover:text-yellow-300 {% if request.path == '/users/group_list/' %}font-semibold underline{% endif %}">
          Group List
        </a>

      </div>

      <!-- User menu -->
      <div class="flex justify-center md:justify-start md:ml-6">
        <div class="relative">
          <button id="user-menu-button" class="flex items-center focus:outline-none">
            <img
              class="h-8 w-8 rounded-full object-cover"
              src="{% static 'media/user_default.png' %}"
              alt="User avatar"
            />
          </button>

          <div id="user-menu"
               class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 hidden">

            <p class="text-black text-center font-medium text-xl">{{ user.username }}</p>

            <form method="post" action="{% url 'sign-out' %}" class="flex justify-center">
              {% csrf_token %}
              <button class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-sm">
                Logout
              </button>
            </form>

          </div>
        </div>
      </div>

    </div>
  </div>
</nav>

<!-- JS -->
<script>
  const adminToggle = document.getElementById("admin-mobile-toggle");
  const adminMenu = document.getElementById("admin-mobile-menu");
  const userMenuBtn = document.getElementById("user-menu-button");
  const userMenu = document.getElementById("user-menu");

  if (adminToggle) {
    adminToggle.addEventListener("click", () => {
      adminMenu.classList.toggle("hidden");
    });
  }

  if (userMenuBtn) {
    userMenuBtn.addEventListener("click", () => {
      userMenu.classList.toggle("hidden");
    });
  }
</script>
